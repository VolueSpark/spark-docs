import LongTermForecastExample from '../../src/components/LongTermForecastExample'

# Forecast

The current iteration of the API allows you to make requests to `/api/forecast/{priceArea}` to retrieve a forecast of electricity prices in each area. The forecast contains entries for the next seven days. The endpoint requires two query parameters:

-   ChargingPower `double`: the expected power in kWh at which the vehicle will charge.
-   ChargingLength `integer`: the expected time in hours the vehicle will charge.

## Querying Forecast data

Forecast data consists of spot prices for the next seven days. Upon calling the forecast endpoint, the currency and exchange rate can be supplies to get the spot prices in the desired format.

A post request to `/api/forecast/${priceArea}` can be made with the following code:

```bash
curl -X 'GET' \
  'https://sandbox-spark-smartcharging.azurewebsites.net/api/forecast/NO1?Currency=nok&EnergyUnit=kWh&VATRate=1.25' \
  -H 'accept: application/json'
```

The response of this API call will be a JSON object containing the following properties:

```json
{
  "priceArea": "NO1",
  "currency": "EUR",
  "energyUnit": "mWh",
  "prices": {
    "2023-03-10T23:00:00+01:00": 96.27,
    "2023-03-11T00:00:00+01:00": 95.41,
    "2023-03-11T01:00:00+01:00": 94.57,
    "2023-03-11T02:00:00+01:00": 94.05,
    ...,
    "2023-03-18T22:00:00+01:00": 81.05
  }
}
```

## Examples

Below are examples on how the data might be visualized. These can also be viewed in storybook [insert link to storybook]

<LongTermForecastExample />
